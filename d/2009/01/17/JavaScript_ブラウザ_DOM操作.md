---
title: JavaScript / ブラウザ操作 / DOM
aliases:
  - JavaScript / ブラウザ操作 / DOM
tags:
  - d/2009/01/17
---



memo
================================================================================
2009年01月17日 記述なので古い


すべてのノードを取得する
--------------------------------------------------------------------------------

```javascript
document.getElementsByTagName("*");
```



子要素を削除する
--------------------------------------------------------------------------------

```javascript
hogeparent.removeChild(hogechild);
```

で削除する。これはオブジェクトをあくまで親要素から引き剥がすだけであって、GCによってオブジェクトを破壊するわけではない

オブジェクトを画面に再描画させる
--------------------------------------------------------------------------------

```javascript
var hoge = document.createElement("img");
document.body.appendChild(hoge);
document.body.appendChild(hoge);
```

2つのオブジェクトが表示される直感だが、1個しか出ない。DOMは画面上に1個しか存在できない。

先に存在するほうが優先されて、後の変更は無視される。
これは `DOM` を `JavaScript` のオブジェクトでラッピングして操作する際にバグになりやすい。

画面表示のために `DOM` をハンドリングするときは常に引き剥がす処理を先行して行わなければ、後続の貼り付ける処理で何も起きなくなる。

直前に挿入
--------------------------------------------------------------------------------

```javascript
親ノード.insertBefore(前に挿入したいヤツ, 挿入されるやつ);
```


交換
--------------------------------------------------------------------------------
実際には交換ではなくて交換される側が `removeChild` される。つまり画面に貼り付けられた2要素を交換すると片方が消えてしまう。

```javascript
親ノード.replaceChild(入れたいやつ, 交換されるやつ);
```

