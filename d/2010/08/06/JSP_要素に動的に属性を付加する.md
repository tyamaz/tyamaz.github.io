---
title: JSP 要素に動的に属性を付加する
aliases:
  - JSP_要素に動的に属性を付加する
tags:
  - d/2010/08/06
  - n/PGM/Java/JSP
---

- 2010-08-06
- JSPバージョン1.2以降 なら使えるようです。


タグの入れ子構造を崩したくない!
================================================================================
属性値を動的につけたり外したりする場合に結構↓のようなコードを見ます

```jsp
<c:if test="">
    <div class="hoge">
</c:if>
<c:if test="">
    <div class="piyo">
</c:if>
    なにか
</div>
```
div の入れ子構造が崩れてしまって気持ち悪い

element要素を使う
================================================================================
`jsp:element` 要素は属性を子要素として切り出して指定した要素を生成してくれるタグです。
これを使うとタグの階層構造を崩さずにすみます

生成したいタグを `name` にとります。

```jsp
<jsp:element name="div" >
    <jsp:attribute name="class">hoge</jsp:attribute>
    <jsp:body>なにか</jsp:body>
</jsp:element>
```

子要素に `attribute` 要素と `body` 要素をとれます。これがそれぞれ属性とタグの内部の包含する要素になります。
el式での動的な値の決定も自由に行えます。

`c:if` などを使った属性そのものの脱着はできないようです。・・・・え！　じゃ意味ねージャン！

