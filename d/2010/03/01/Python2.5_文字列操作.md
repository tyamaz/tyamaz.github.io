---
title: Python2.5 文字列操作
aliases:
  - Python2.5_文字列操作
tags:
  - d/2010/03/01
  - n/PGM/Python/v2.5
  - n/PGM/Python/Ope/文字列操作
---

- Python2.5.2

文字列リテラル
================================================================================
エスケープ有効版
--------------------------------------------------------------------------------
通常はダブルクォートかシングルクォートで挟んだものでやる

```python
print "hello"
print 'hello'
```

エスケープが有効なので

```python
print "hello\nhello"
```

とかくと改行を埋め込むことができる


エスケープ有効＋改行入り
--------------------------------------------------------------------------------
シングルクォート3連続で挟む（Pythonではこれをトリプルクォートという）とヒアドキュメントのように改行を含むことができる

```python
print '''hello
         hello
         hello'''
```


※ちなみにこのトリプルクォートとかトリプルダブルクォートは挟んだ範囲を文字列化するので開発中の一時しのぎのコメントアウトによく使われます。

エスケープ無視
--------------------------------------------------------------------------------
無視する書き方もあって、このように文字列リテラルの前にr(rawの意)をつけるとエスケープ文字が無視されてそのまま字面通りの文字を発生できる

```python
print r'hello\nhello'
```

マルチバイト文字列
--------------------------------------------------------------------------------
Pythonではマルチバイト文字列はリテラル表記の前に「u」をつけた形で表現する。
そしてこのコードがutf-8で書かれているとマジックコメントを書かないといけない・・・うーんダサイ

```python
# -*- coding: utf-8 -*-
print u'ほげほげ'
```

### マルチバイト文字の扱いの注意問題点動作
`u` をつけると `coding: utf-8` の記述と合わさって UTF-8 表現のバイト列の文字が Python の unicode 内部表現としてマッピングされます。
通常のシングルクォートで囲っただけの単なる文字列はバイト列と認識されていて Python 内部表現 unicode にマッピングされない。

Javascript ではブラウザが認識した文字コードでの解釈を Javascript の内部表現 unicode にマッピングして使うので問題は出ないのだが Python はそれを自前でやらないといけないっぽい

ほっておくとマルチバイトをすぐに ascii として扱って入出力部でエラーがでるので変換するなりして全体を内部の unicode 表現文字列で統一する動作にしておく必要がある。


表示
================================================================================
どのLL言語でも共通の

```python
print "hoge"
```

標準出力に出力する。この `print` は関数としては実装されていないので括弧無しでの操作が可能になっている。


文字列の連結
================================================================================
Pythonでは文字列の連結は `+` で連結する。わかりやすいですね

```python
print 'hoge' + 'piyo' #=> 'hogepiyo'
```
