---
title: CakePHP 1.3 開発環境構築（Windows編）
aliases:
  - CakePHP_1.3_開発環境構築（Windows編）
tags:
  - d/2010/09/27
  - n/PGM/PHP/CakePHP/v1.3
  - n/PGM/PHP/XAMPP
---

- 注 古い情報
- 2010-09-27
- WindowsXP SP3
- CakePHP 1.3.4
- Eclipse3.5

PHPの環境をインストール
================================================================================

PHPの実行環境は `XAMPP`でらくらく構築 <http://www.apachefriends.org/jp/xampp-windows.html>

今回使ったのは `XAMPP1.7.3`

```
D:\xampp
```

以下にインストール。普通にインストーラー起動してエンター連打で終了。

開発用Eclipseのインストール
================================================================================
`pleiades` からPHP版の `all-in-one` をもってくる <http://mergedoc.sourceforge.jp/>

今回は `Eclipse3.6` 版を使ってみた。

解凍するだけ。以上。

`Pleiades3.6` の Version には `XAMPP1.7.3` が付属してくるみたいだけど、まー今回は無視

Cakeのプロジェクトを作る
================================================================================
新規PHPプロジェクトで作ってみる

今回は CakePHP をやりたいのでまず CakePHP 本体をダウンロードする <http://cakephp.jp/>
今回は `1.3.4` の安定バージョンを使う

CakePHP の本体を置く用のプロジェクトを作る。とりあえず新規PHPプロジェクトで空のプロジェクトを作る。
名前は `hellocake01`とかにしておこう

ダウンロードした CakePHP を展開する。

展開したものが CakePHP で作るアプリの雛形になるのでこいつをさっきの空のプロジェクトにインポートする

```
一般→ファイルシステム
```

で展開したものを指定してインポートする。

プロジェクトの下に `app` とか `cake` とかができあがれば OK。

Apacheを起動して。<http://localhost/hellocake01/> にアクセスして確認OK

あとは普通に CakePHP の開発になる。

Xdebugを動かす
================================================================================
デバッグできるようにもしておこう

CakePHP にはデバッガーが付属してくるのであんまり必要性は感じないのだが
まーやってみる

サンプルアプリを作る（xdebugでのデバッグ確認）
--------------------------------------------------------------------------------
とりあえず最低限動作する用の controller を作成する。

cakeのツールを使って自動生成もできるので、phpをコマンドで駆動するためにパスを通す

```
D:\xampp\php
```

あたりにある

```
php.exe
```

が使いたいので

```
D:\xampp\php
```

にパスを通しておく

まーいいとして手動でcontrollerを作る
```php
<?php
class HogesController extends AppController {
    var $uses = null;
    var $name = 'Hoges';
    function index(){
    }
}
?>
```

これを `hoges_controller` という名前でcontrollersに保存する

`views/hoges/index.ctp` というファイルも作って適当に書き込む

<http://localhost/hellocake01/hoges/> でアクセスできればOK

xdebugを有効化
--------------------------------------------------------------------------------

今回使った XAMPP には Xdebug が付属してくるのでこいつを有効化するだけで使えるようになる。
PHP のインストール先に `php.ini` が入っているのでこれを修正

今の環境ならここ↓

```
D:\xampp\php\php.ini
```

1000行目あたりに

```
zend_extension = "D:\xampp\php\ext\php_xdebug.dll"
```

このような記述があるのでコメントアウトして有効化

2160行目付近に

```
xdebug.remote_enable = 1
```


ように記述してApacheを再起動する

Eclipseでデバッグ
--------------------------------------------------------------------------------
Eclipse のパースペクティブをphpデバッグにして、実行からデバッグの構成を選ぶ。

```
PHPWebページから→新規
```

名前を `hoges-index` にする。ファイルがないとか言われるけど無視

PHPサーバのところに今のアプリのルートを入力しておく <http://localhost/hellocake01> のようなURLになるようにしておく


ファイルのところに

```
/hoges/index
```

と入力する

適用する。なぜかデバッグボタンが押せないのだけどいったんダイアログを閉じる

デバッグのお気に入りの編成を選択して今作ったデバッグの構成を追加すると虫アイコンのプルダウンに出てくるのでこいつを選ぶとデバッグが開始される。

でもなんだか動きが怪しいね〜

ブレークポイントとかで止まるんだけど中身が表示されなかったりとか。これはPHP5.3とXdebug2.0の相性の問題らしいけど、ま、これはほっとくか。



